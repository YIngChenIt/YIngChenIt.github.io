<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>手摸手实现 react-hooks | YingChen Blog</title>
    <meta name="description" content="记录自己工作和学习当中遇到的一些有趣的东西">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.a7106b77.css" as="style"><link rel="preload" href="/assets/js/app.4bc2ad38.js" as="script"><link rel="preload" href="/assets/js/2.8001882b.js" as="script"><link rel="preload" href="/assets/js/4.a0c1a2ff.js" as="script"><link rel="prefetch" href="/assets/js/10.a31b3f8f.js"><link rel="prefetch" href="/assets/js/11.4be96477.js"><link rel="prefetch" href="/assets/js/12.7dcf133a.js"><link rel="prefetch" href="/assets/js/13.1c31c982.js"><link rel="prefetch" href="/assets/js/14.1f4f2c2a.js"><link rel="prefetch" href="/assets/js/15.b0ceca04.js"><link rel="prefetch" href="/assets/js/16.b9d49c20.js"><link rel="prefetch" href="/assets/js/17.e1d66b04.js"><link rel="prefetch" href="/assets/js/18.70bfaa81.js"><link rel="prefetch" href="/assets/js/19.d442cccb.js"><link rel="prefetch" href="/assets/js/20.9524f043.js"><link rel="prefetch" href="/assets/js/21.a398f430.js"><link rel="prefetch" href="/assets/js/22.3e571c40.js"><link rel="prefetch" href="/assets/js/23.eeb6ae5b.js"><link rel="prefetch" href="/assets/js/24.7b331498.js"><link rel="prefetch" href="/assets/js/25.1bd06044.js"><link rel="prefetch" href="/assets/js/26.c8f48922.js"><link rel="prefetch" href="/assets/js/27.1a763c86.js"><link rel="prefetch" href="/assets/js/28.0e6e0420.js"><link rel="prefetch" href="/assets/js/29.88358b62.js"><link rel="prefetch" href="/assets/js/3.5c364248.js"><link rel="prefetch" href="/assets/js/30.cba2bdbc.js"><link rel="prefetch" href="/assets/js/31.366e3eb2.js"><link rel="prefetch" href="/assets/js/32.a3fbb37a.js"><link rel="prefetch" href="/assets/js/33.44ed4e43.js"><link rel="prefetch" href="/assets/js/34.4db0e6a8.js"><link rel="prefetch" href="/assets/js/35.197c746d.js"><link rel="prefetch" href="/assets/js/36.10c3e979.js"><link rel="prefetch" href="/assets/js/37.19f9cb72.js"><link rel="prefetch" href="/assets/js/38.6db8555b.js"><link rel="prefetch" href="/assets/js/39.8f709365.js"><link rel="prefetch" href="/assets/js/40.2481e0d4.js"><link rel="prefetch" href="/assets/js/41.3f3fc7d5.js"><link rel="prefetch" href="/assets/js/42.a83552b7.js"><link rel="prefetch" href="/assets/js/43.98d9e3c4.js"><link rel="prefetch" href="/assets/js/44.2e00b004.js"><link rel="prefetch" href="/assets/js/45.66cfe1a0.js"><link rel="prefetch" href="/assets/js/46.f0e4dbf3.js"><link rel="prefetch" href="/assets/js/47.ebf746e7.js"><link rel="prefetch" href="/assets/js/48.9bc44561.js"><link rel="prefetch" href="/assets/js/49.ecd41f76.js"><link rel="prefetch" href="/assets/js/5.39fa385f.js"><link rel="prefetch" href="/assets/js/50.37d75534.js"><link rel="prefetch" href="/assets/js/51.f7042b23.js"><link rel="prefetch" href="/assets/js/52.027bcdb7.js"><link rel="prefetch" href="/assets/js/53.f6f3538e.js"><link rel="prefetch" href="/assets/js/54.26552382.js"><link rel="prefetch" href="/assets/js/55.57a19ad0.js"><link rel="prefetch" href="/assets/js/56.d71e9097.js"><link rel="prefetch" href="/assets/js/57.135923c3.js"><link rel="prefetch" href="/assets/js/58.2a4d0504.js"><link rel="prefetch" href="/assets/js/59.ebcb73f2.js"><link rel="prefetch" href="/assets/js/6.b68f40f8.js"><link rel="prefetch" href="/assets/js/60.f322e13b.js"><link rel="prefetch" href="/assets/js/61.0aa270df.js"><link rel="prefetch" href="/assets/js/62.129424fd.js"><link rel="prefetch" href="/assets/js/63.b0753bae.js"><link rel="prefetch" href="/assets/js/64.a101b529.js"><link rel="prefetch" href="/assets/js/65.aee7e46b.js"><link rel="prefetch" href="/assets/js/66.bebba830.js"><link rel="prefetch" href="/assets/js/7.588b7ab3.js"><link rel="prefetch" href="/assets/js/8.23c48231.js"><link rel="prefetch" href="/assets/js/9.1f23aeef.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a7106b77.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YingChen Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><span class="title">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/require/" class="nav-link">
  node核心
</a></li><li class="dropdown-item"><!----> <a href="/koa/read/" class="nav-link">
  koa核心
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/YIngChenIt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><span class="title">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/require/" class="nav-link">
  node核心
</a></li><li class="dropdown-item"><!----> <a href="/koa/read/" class="nav-link">
  koa核心
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/YIngChenIt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工作新发现</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/work/poster-edit/" class="sidebar-link">【方案】-海报编辑器</a></li><li><a href="/work/weapp-structure/" class="sidebar-link">【方案】-基于tina + gulp4 + webpack的小程序构建方案</a></li><li><a href="/work/vuex/" class="sidebar-link">【优化】-实现vuex数据持久化插件</a></li><li><a href="/work/weapp-event/" class="sidebar-link">【方案】-小程序跨页面通信解决方案</a></li><li><a href="/work/weapp-maidian/" class="sidebar-link">【方案】-基于tina的小程序埋点方案</a></li><li><a href="/work/imgoss/" class="sidebar-link">【优化】-图片自动上传oss-plugin</a></li><li><a href="/work/loadmore-list/" class="sidebar-link">【优化】 -封装一个自动加载更多的组件</a></li><li><a href="/work/sticky/" class="sidebar-link">【小技巧】-滚动置顶还能这么玩</a></li><li><a href="/work/autobuild/" class="sidebar-link">【小技巧】-小程序自动发布体验版脚本</a></li><li><a href="/work/saoma/" class="sidebar-link">【技术原理】-扫码登陆的基本原理</a></li><li><a href="/work/gulp-node-v/" class="sidebar-link">【采坑】-gulp 和 node版本不兼容</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react核心原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/react-base/" class="sidebar-link">这里有一份react的基础进阶</a></li><li><a href="/react/redux/" class="sidebar-link">手摸手实现Redux</a></li><li><a href="/react/redux-middleware/" class="sidebar-link">深入了解redux的中间件机制</a></li><li><a href="/react/react-redux/" class="sidebar-link">手摸手实现react-redux</a></li><li><a href="/react/react-router/" class="sidebar-link">手摸手实现react-router</a></li><li><a href="/react/react-hooks-base/" class="sidebar-link">react-hooks 的新特性</a></li><li><a href="/react/react-hooks/" class="active sidebar-link">手摸手实现 react-hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react-hooks/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/react/react-hooks/#usestate-的基本应用和实现" class="sidebar-link">useState 的基本应用和实现</a></li><li class="sidebar-sub-header"><a href="/react/react-hooks/#usereducer-的基本实现" class="sidebar-link">useReducer 的基本实现</a></li><li class="sidebar-sub-header"><a href="/react/react-hooks/#useeffect-的基本实现" class="sidebar-link">useEffect 的基本实现</a></li><li class="sidebar-sub-header"><a href="/react/react-hooks/#总结" class="sidebar-link">总结</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue核心原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/observer/" class="sidebar-link">深入了解Vue响应式特点</a></li><li><a href="/vue/compiler/" class="sidebar-link">【源码】手写mvvm 之 Compiler类</a></li><li><a href="/vue/watcher/" class="sidebar-link">【源码】手写mvvm 之 实现数据双向绑定</a></li><li><a href="/vue/computed/" class="sidebar-link">【源码】Computed 源码解析</a></li><li><a href="/vue/next-tick/" class="sidebar-link">【源码】nextTick 源码解析</a></li><li><a href="/vue/mixin/" class="sidebar-link">【源码】mixin 源码解析</a></li><li><a href="/vue/watch/" class="sidebar-link">【源码】watch 源码解析</a></li><li><a href="/vue/life/" class="sidebar-link">【源码】生命周期 源码解析</a></li><li><a href="/vue/components/" class="sidebar-link">Vue中组件通信的九种方法</a></li><li><a href="/vue/router/" class="sidebar-link">实现一个vue-router</a></li><li><a href="/vue/vuex/" class="sidebar-link">实现一个vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>服务端渲染</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ssr/react/" class="sidebar-link">React + Express 服务端渲染采坑日记</a></li><li><a href="/ssr/vue/" class="sidebar-link">Vue + koa 服务端渲染采坑日记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack核心原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/bundle/" class="sidebar-link">webpack打包出的文件解析</a></li><li><a href="/webpack/config/" class="sidebar-link">webpack基础配置大纲</a></li><li><a href="/webpack/more/" class="sidebar-link">webpack配置进阶</a></li><li><a href="/webpack/optimize/" class="sidebar-link">webpack性能优化</a></li><li><a href="/webpack/mini-webpack/" class="sidebar-link">实现一个mini-webpack</a></li><li><a href="/webpack/loader/" class="sidebar-link">实现常用的loader</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/base/horderFun/" class="sidebar-link">高阶函数的应用</a></li><li><a href="/base/promise/" class="sidebar-link">实现符合A+规范的Promise</a></li><li><a href="/base/generator/" class="sidebar-link">generator及co库原理</a></li><li><a href="/base/es6/" class="sidebar-link">ES6食用指南</a></li><li><a href="/base/deepcopy/" class="sidebar-link">深拷贝和浅拷贝</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>node核心原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node/require/" class="sidebar-link">你不知道的require</a></li><li><a href="/node/event/" class="sidebar-link">events-观察者模式</a></li><li><a href="/node/cache/" class="sidebar-link">说说缓存的那些事</a></li><li><a href="/node/buffer/" class="sidebar-link">深入浅出Buffer</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>flutter</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/flutter/anzhuang/" class="sidebar-link">flutter开发环境配置采坑</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>koa核心原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/koa/read/" class="sidebar-link">koa源码分析-从入门到看不懂</a></li><li><a href="/koa/mini-koa/" class="sidebar-link">手摸手撸一个mini-koa</a></li><li><a href="/koa/middleware/" class="sidebar-link">koa中间件大揭秘</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>typescript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/typescript/one/" class="sidebar-link">typescript(一) - 数据类型</a></li><li><a href="/typescript/two/" class="sidebar-link">typescript(二) - 函数</a></li><li><a href="/typescript/three/" class="sidebar-link">typescript(三) - 类</a></li><li><a href="/typescript/four/" class="sidebar-link">typescript(四) - 接口</a></li><li><a href="/typescript/five/" class="sidebar-link">typescript(五) - 泛型</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>PWA</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pwa/init/" class="sidebar-link">pwa 初体验</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>LeetCode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leetcode/10/" class="sidebar-link">10月</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="手摸手实现-react-hooks"><a href="#手摸手实现-react-hooks" class="header-anchor">#</a> 手摸手实现 react-hooks</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>本文不会描述太多 <code>react-hooks</code> 的基本用法，直接参考源码实现一款简易版的 <code>react-hooks</code>, 大家可以自己debugger一下源码，这样的话更容易理解。</p> <h2 id="usestate-的基本应用和实现"><a href="#usestate-的基本应用和实现" class="header-anchor">#</a> useState 的基本应用和实现</h2> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <p>我们先来看下 <code>useState</code>的基本用法</p> <p><img src="/assets/img/hooks1.5e034729.png" alt="An image"></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>上述代码中将 render 逻辑抽离出来，是为了自己实现对应hooks的时候有个方法可以触发页面的重新渲染</p></div> <p>上述代码使用hooks实现了一个简单的点击按钮修改 <code>number</code> 和 <code>name</code>的例子， <code>useState</code>函数接收一个初始值(也可以接收一个函数，下文中不涉及传入函数的处理),  然后返回一个<code>[state, setState]</code>, 分别对应着当前的 <code>state</code> 值以及修改这个值方法。</p> <p>那我们试下模仿源码实现一个简易版的 <code>useState</code>, 如果对链表不是很熟悉的话，可能有点绕~~</p> <h3 id="实现-usestate"><a href="#实现-usestate" class="header-anchor">#</a> 实现 useState</h3> <p>我们先看下下面代码</p> <p><img src="/assets/img/hooks2.f1118ff0.png" alt="An image"></p> <p>只是看代码不是很好理解, 我们画图一步一步解析这个流程</p> <p>我们看下 <code>firstWorkInProgressHook</code> 和 <code>workInProgressHook</code>到底是什么</p> <p><img src="data:image/png;base64,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" alt="An image"></p> <p>第一第二行代码，声明了一个对象节点, 我们也可以理解为第一个初始化节点, 对象里面分别是 <code>memoizedState</code> 和 <code>next</code>, 意思是记忆的数据和下一个指向, 然后 <code>firstWorkInProgressHook</code> 和 <code>workInProgressHook</code> 我们可以理解为它们分别是两个指针，指向第一个初始化节点。</p> <p>然后我们第一次调用 <code>useState(0)</code>的时候, 我们发现 <code>workInProgressHook.next</code>的值(也就是初始化节点的next属性)为空, 所有我们创建了一个新的节点 <code>currentHook</code>, 意义是当前的节点，并且 <code>memoizedState</code> 和 <code>next</code> 为 0(传入的初始值) 和 null, 也就是对应这下图</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA04AAAGlCAMAAAD6YlbbAAAA8FBMVEX///8yMjL9/f1aWlqCgoLv7+95eXlkZGT39/fMzMze3t51dXVLS0t6enqSkpKwsLBsbGxwcHBpaWleXl5zc3NBQUHb29t/f38/Pz9GRkb/bm48PDz/MzPy8vI2Njb/9vbg4OCOjo75+fn/U1Pl5eX09PRnZ2dhYWH/hob/7e1VVVVRUVHJyck4ODj/xsb/2dnExMR3d3e9vb3S0tKzs7OkpKSWlpb/qKiHh4e6urrn5+ddXV2np6fPz8+dnZ3s7Ozp6enV1dXY2Ni2trZNTU3/Q0Orq6uLi4uampqhoaH/YWHi4uL/0dH/vb3/enr/nZ2r9R3vAAAjPElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAACYXTvcbRMG4gBuTFhpcUiaAgVVWBkKiYSDFEJAwICAQRl5/xeaOmkP0DVfDvv3BD79ddZxWJIkSZIkSZIkSZKkWQr5cajzYjFvRV6XRx4iqPz+NGRzT+lvSL2P4NL4pTCeIo8q80Y9dZMUF64hiLR+tbDmnxL1on1SrHqYISEcdOcioq5HmDp3jHgujYpzF2AEC9a7csGESImNnkvZoux0aCF9CrY5U6htmavUD/CcBX4/5IZNFZZvAwSL7phEoZ5hXnofz1rIy+mHRxViOjoCB3ODxGRZOpUWQrwNvgLrWuWUSxKTxIFVK04tQsn7+aXSQN7ZXwup257fCSVWCq9UJ7eVt6nR4J38/2Ctmd4Ue3pBkHDTVg5t6guSEvbT9qDYpoOA6bKIqtkWiWSbqVStrwiOqo1i9bZDAtndfsVR1iFIcDDsKblVSCzVjdBNCWYdgfXVgbIVpP5/gOuF0acB1GiL+WtM8iukIz8Cvk4kfuVQyg76fcxaUQa9f3B4Z/GGQ9oZ6Tkbf+8gnfgx8O7nyCYoiyPfJMysBOsmhHBlMmIC+p+r84NrHJGIjoZ74DD6SU9Vd9kgATVLV01hhPSpq23SAmr/B/JbYtcwPnR394+xhvsy6hvCevy4g1nA4H4dWyckppMVr3sIAxRu1jR5RkJ6Tui6gRDSH/auQLdpGIja7ULj4Nhdw7ZOE9WooJVaIgFlqKVldOrUbeL//wc7dzhRw5Z1iqhN/CSy2A6edc9vZ58dR+PnNqX3zoi/Zry/p+nWhWDZ+iql7vyJrpmkB5o6EyyfHQ3an9wZmtaL8FN7cDQj9uPHWbr82LxoUYbhx2V65sq08csonTu37lwbTufp6AuxH4tO/65Zy+wFXN71OwviBuT0omlrgwWs5cWtJPZjOz3ZOPqyQh1ruSe3K+IEWg8X5w6FIetGODtJr+2f5rbuL/hpQ8d6eimHp9/sJ0lj/a4/at7iYGGVsHNxZ//2qu/zfrcx+5PLJAW9/pEbcZhZzN81dhShEMzPX9k/zf3xmotGLjoBPrzjb+wnSeNLd7KpIEpSyhhl5EWA/3gYRFxWMyUnXftjEYtRe+PGWC+M47D+SjftkRuxCDlOZsMqQfxVFSIOVbaEfisekQ7mlfu2pBqyDrVIHr1cTsNZMrY/FrFddm4OLSeZBJr17EqCRPxDOQ1vOsstcQGr9vh0WGXGR+2GVpVU3aOpq+VkNKDVeHA5nY7b9keNHiajg785LA4np9bpaPJAXMD9dHz5YjmBddXtfBlBzj5yAnIOLafL8fSe2I5vt71fTZbTr97tN+ICBO+snyIqSCilSaBVEfFVTGWWIwijCnGYqSVasoRB79VXVcAyIS0SnHQJKqBUJEwVS9AASlUkC6o5ElmFhGR3fMGlpmalsyKOJVIVRARasCMnaChkQE3wAHjOJ5had7ggtuPuvAss1QU0Ivb+IJEEeQDWVD6YWplQaP6B1iTYkVPOmYRiqDDiPKpVTuvu+R1xAfOTUdCq9k4gJ8rQ9DcR2A16LItDIdQPHpmZltSXP2mpkignbXxJmfFOKqnzgAZ1SQK4KLKl5lSAk4FiqUsXpgVFOUEi4qJQU5bHqKgIwo5O5sR2HPWPa35xkNHMiEZOwA2yhubmEXAeJCpV9k65pTFbcOgWQaJSdaL19rh/RFzAWdoLny0nYUZvYEu8CgFuBidTYHRNGDwONyAncC4CNSApgzxMowAY0A1M4S9iHKk3LdBUA5BFrMXUpP+pNlcwFfbSM2I7PqfHYa1yQp5y74Q8IGsSeJLAOSRRThQhypwFSebuAk1brWiFx+ln4gLe0C5BVMsJZKHSSASUBokqW6reLkxXZzwyslhljKCcQB+aCtQB5EFtWRGkc5dkfi0jQlNtWlD0Ttk9PJXXpFLXSfVIvkvfENtRbxvRnEU5ITdAIOSiCSXQWfZOO5xhsFdlzjNa6++mLmAv7yTBOZjxAPCipKQJUXdgeCDFyImazl+QjokfFCUGRYqTHTnRDDpNqTAt2JETw19SqCni+jnvnUoAnp6SE82gTSghsyynXc6gMIxxBttM77TX3AnsBANqIEIzIfWNEAyeK3mnRZIEFXKq8E6MIGCAjy14jndaxarMz53KYPRp7yQIwMhpD++0Qj01ce4Ekb195AQaMhFR0e1mFk+QGIF2NXJiEVepCjmZcTjDO0llPubYaQ22oCinfOhpasoaDLNiH9l7bO5EhOHGyAnsWCmnAmfwgOkWArTaxMgerDvtISfGMgsawzJKGfgLVYrRBYYXM+wTVXKC6BEuDUNcFuWEs+NoHoarMKMfW1CUEzwEOaamLKm17NedypAQ2cOQDy3KybAxjwpyQsZyOcFTO+G9LBnCmKCJ606wK2If7yQoRZNT8EeZgY0JGYYYkBhUVhJUyAnG64JAxTS+4bkDZGYdCX5iC4pyMutdeU0meM4jvyuiDIZGkooutjPYAw5wfpqPAEvrTjlnuAIF5KI+SQN3RcCePfug3U8N8Hv2/ge4s2dP7yi3ceu/rGftwu8o/x/gzo5y+953CuLgWZtj/ftOjYE77ztZ+DYuzoKehn8btzlw6G1cf1aEPyvCdjh0VoQ/ycifZGQ7HDrJyJ+z58/Zsx0unbPnT4H1p8DaDadOgfVnlLsw1PVnlBM34L+g4cIk139BgzgC/30nF+C/7+QI/NcHXYD/+qAr8N/GdQH+27iOwH+53QX4L7c7gtZwMxrwrf1bberF9y0f9BZDV/pnK5TjwbRpK+4/v04HnU3oCkmA9dVk0L5q1jLh5VV70F651Du/X0/S9tadSXkNeL9dphNnguS/2bvb1UaBKIzjziRuQ52Y7kZthuKQDZsENIX1paKhLWr2g7D3fz+Lu83Sry2FnjN5fncghz++jeN/URWK5fB0Masspfs0LEU4XDuc9H4o9s/FpVzwybh43ovQ57dmR/aeulfzJjq6W9uHJWfuMWrm6l5ln77v99vIIlBG3ebXR5fZ5c97htSu81tlVFAwPNTNukqFCQN/UcQbabNN3J0qLzQirdac7nBHs8hXwmjPL7tYWm3bN8MXbYTyIy6PXl+TmzavE7PSKp3YLlV6ZZI6b9k8hjiTs7aZphcxpfSXXpl02rRcz8NuX9beVaKNsJvRk29ZXfY8v3dwu8U0sH9KRie7rF50PIf0z7Y/nB6remq3unpsDj3f9Tpx9/P0YPuU/g6p4/T2FgAAAAAAAAAAAAAAAAAA4DU3z25efP3+2wGA9zsOoXhhFIe9IwHo+uGv9JU3WgpxoXvIAXxcTtnBGeXICQA5Wajwb87mPP6gCciJrGYnzu4yB7hATiSV+7tJ4I202DnABXIiqdwnDzNn5CEnRpATSciJJ+REEnLiCTmRhJx4Qk4kISeekBNJyIkn5EQScuIJOZGEnHhCTiQhJ56QE0nIiSfkRBJy4gk5kYSceEJOJCEnnpATSciJpz/s3c9q3DAQx3FNQaAR+rOgcy9lH6CHHgpZAjn3/d+n2tUgx/Gq7YLsSN3f9xDjpr1EfBh7mhBwGjJwmjNwGjJwmjNwGjJwmjNwGjJwmjNwGjJwmjNwGrI2J32yipNWtRDLlX35BzEo46NaFdPMvy56osBpyP6Jk06x3Dc4FUVCDjUCp/+/v3OyjojPmQzlnN1yCkRea8X0Lm8UWgdOT1CLk3VXPJf8Iel892KNl0MTToFyP33+EK93ofyxxOC06UhOISqdWNVikFM96XqNH86InVVoz+lUv/yc9CJkmU714c74CE496s8peKOM5yYn67iSQ/tyUoFKrMIpXxwnKoXy9beuPtxlQrp8NoJTo4M5GU8UtJHncN5yYiJnz3KKEpZJu3GqyRlsptNS4cTXswSnRsdwyohyr6kIMj6qEFdHyDc1r/KKy0nLycpfAaddOCXyb45uOXuPExEHKgVw6lDP6WQ8yzFyFbKaTvUYvQGnA1YRrrw7yaAK9UmgriKWd6cITh3qyqluWoOKLy5fv/u6db2dqyn3csxyF8Bpz1VEczqJoWU64d2pQx05fTzLzXSS5Lb8D2IEpz051enU4LSdTtjstTqUE7k3T6V4j5OjwHX1AE6fxMlcTIsTFuUd6raKWN6dQlSxPmHUVUSq7072BE6f9LDHjhsPe+DUob6riOZ0kusynfDutC8n2euZ9XRi8kasyF7v7nS6nRO+da/R4Zu90OC0nU7Y7O3AqV0MGD3D9Dini25ywqJcKfy80zP36MMep9h62AMncHr2/sQpkLPr6WRd0mJF9npqO53KZwjfugdOT1eDU6NMB6PnbuCE8PNOowZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOcwZOQwZOc/X1bG/xe04/bOnXty8KPRQ4PXW/2buj3USBAArDMyiFWlQUkSFEokYhAUnY1RokFqsSpen7v8/K0s3a7EXbdA2jnO/K0QsTzY/MILBvRb8ZTvA3p15UWM5xJtoXIadKa+rUZoX6E8mFJivYtrcfEPgS5FRpS59akqPm1kOS29XVnCOZ+t0GO3tfhZyqTEw8amXz+GQwJrnxJh9sH0zTmAvIqRTTuFE4nOWkNd7EYwKcen3xaG09Ie81lopphFMCpQiXUaGn/M3JjN487rCV49Yw8W13HZNz/cy3miEmTmVZmpRa7De3XeRU11mB2t0QOfHreekHWls8+4ommcfUGWoqTVuzac3pqifH+3HxVDMfdSXXUloicuKY0PKpvx8If4ZyK7UcrJGXaLB3adAM45ONLBRPPeejvRMorT5q4pqY+Xa62PwZjVKmhjK+sxJtVpqVHv/pJjRMs7XFho5zr4ln1w4xyQ2XKeutsKdXLnHvsHTUf1eOcG8o6RE18a+R+LZ0eC4eBep+Q6BkbcfSW7uzduTdDzONGlglvwKTpR+4bVGYJF6grVATB/aSTc/mSeNtxzIj3A3/OsijlHor8VSVhxVyLkx/SjY77sib2YOlj7b4bboOwqkkW6n7gbYaYBWCC+JPyVKiXVFQ2DTZaI4D61djmPnUDKQ2jmrwYrBSdSXK50/j2Z2p1FHTNelnPpMOMQFuLFTGRlt5+tQzFWOHPb2r8poZe9TElZVj0+P2SQ1YfUcA4DumoWMzpxME0Ry/TQDfJIZdZulW9IR5E8C3yT87pmJgFQLgv1gdW9jTAwAAAAAAAAAAAACAjw4o3FVQR6v5qaIovnt3WcboEX9BrJBIp3A5gelJjzh9tTJ6lEmVxaguXZareaz2ghP1q6JHVVJZKu2Ry5LjmcO0A/mMySGrP3Ruyo8oaU9IhSCnixLGg1Dzl+QT+omWMpveFFv3taS/WSTH5gMHjNHLYkPeQ05XlBMhwkTV6+RjceLpmqN2borqaLo3ylxf52I7kc9k10PyDnK6rpzkjv2Zd2lreuc+vrHrQcrP9x2mKFbNdboccNyaVVtvyDnkVEpO48FlP+LMd2fyrd3MShDkmR9YUjjhYjshT0LJchfkHKc5CeMPXh+I3F3t6xd759+bJhCH8e9zygSHuLSdQgwXJaJJ0YRWS+Zv15q6xff/fsYdlF1ds1YyO3R7/mib454qd/fhni9qfDtO1Yth/bhDXP78aV208fkDYtMApdAtxheGi0q2FCxJVTFxGjl8zn67IE3UdCLyjWUUTbqFGN6342QAR8bpil+d41ccMH2Dfrcwnzz0uv3PW3qmQuJUh6DlVZzY2IHQpUYCrV8c7B13MIlTtnGubsdVRkKrcD5wZavmJb90NwTmcSdWvWd5hrggddxfkYne0a4Tnnsw3T1eo2cqJE7tijN5w+405oA9CyRORp8b9Ex+x4n75FR+nKomPtRtABEj0i0OID4ZthUN4mDFMCFU0x+BJfuP00FycJHDdbQEfoGP9EyFxEnqVZz8K2DuEfmhKze0PZy0S/wlnBz7egO0RsQi8JvoEvaIdtcwq6wD26g+4RQBZe+EcCpCQXs8nAygyDh5mubTalKfErmD+iKZCn30eNtl6ci74WObxU31gU5CrHo7H6wyb9wnkZdlpqRXfTKVOMW8mI2nB5sDYWwitgvvwpV4hHYJH6cue27ujo5EmIpTK2R6WczOyIbFaFpCh9GEI/rq4BvLZq5bvmmfUNgrREGbA6fDE3gRcTKAzuMQGD4sTAAfxdMPHQC848tE9OAAfNmYAeh3iehrBeLo1pdeS/RJZPzMTESrjwCGWzFz7gXwxU8fTMoSCzgW/870GoTMqmoWh794pOgoOF24RCFg0RLDUNOmH3Hlk96EWZGH1AvhCeFUiII2B045EngxcXI+l2yg1doEAB6IBjYuoxuOJUsSkQMMbeeayzNoBMCmNASa+nOcgqqSmfRm7Ck58szZHIBz56o4GbwXWRu0BhlOipko5GJlZzoSTjU9vSJYALK11TCB1oJOFqdCFLQ5cMqRwIuJk9mgdgA0fbHwO8y9QH9NbIvZWiYi0npAZSXW+I3ulcHrjKYVcCNZi0L+B9gDNTMtWuhPya/JK6XeQSz7zqOsdlqtxT7nIMpqJ8VM5I2XXVJ1bJz49UzoxpUXE2DJThanQhS0OXA6PIEXNOzFmItNYkB076Cmj1qwNE2bw7lPE5ElT2FdwqXWDdCLW+gBiDKcWCQWoJqZltJBo5acFTaoAIJXZeb8r7eWg6aXzpxqpnzKj9MSCCnVuo9+H859MjTzd8XpfAraXDi9nsCLfysiQSLGyayma8zAk4x0zVmSAe0yxkm2pLYMpzEXqKiZSTiUqpdY4wrgYYZTo4d0105xUs2UT/lxEntpm0gPu8Qs8HDQwoekNLxxddbuXS/eB6fzKWjz4PR6Aj+BO3sv4rSZSY3ehlMjEOmQ1MxkpdQkvdM8iOgJp1UFm3FjN1NwUsyUT/lxYhGe1k/I42bvC1BntAsk8BbQ9N4Fp/MpaHPh9HoCP0WcRi1sGUn9itO6hJlAZw7UpVeyYQ+ISM1MEfAoI2Hs13ckNJed67KPIX9WzRSnK18x51Z+nMibOwCGTW1akhfBkY2gSmziIO405vyRvQtO51PQ5sDpgAR+Uji5Pdi3jNi98QJOrAN0XLYIEOwSL9sC32VMVzJTyBEsRC8R0/vlhbZ6MIGJnDlL1w3gjukdpDiZ9zpTzES+1VPy1RFweuNrm54oPpjrsvcJe+dT0ObA6fAEfho4iZ1Vqv4CTmIvkuJ1lnjHHIkMJTP5TQhtWknVC6QzJwYJsHaB7GeL/+6VpUUxE00gV8y+TubzTjlxOp+CNgdOhyfwgt4o38eJLSQApdFLONFqOxTjO2D7JaORZSbR6wMHbxrCr1sST2cp5pDdxW5LxqjeKJmzdkWMmWqmaoBvjDL9x+nUCtocOB2ewIv4Mu7L8jVNJ1X7t3Fffz+Yr/lKa9ZMuvzTyxrkYX/PrO/lq38epxMraHPgdHACL+SbjP45nSZOJ1bQCpwKpP84qfqP0w/26xiFgRAIoKjnWAa22EYbLT2BTQjJ/W8TRRJYmCqErMP8X7jVioqv0NqDFk5eMsrJ1oMWTl6ywMn8gxZOXrLLyVBw8hKctOAEJzitGpy8BCctOMEJTqsGJy/BSQtOcILTqsHJS3DSghOc4LRqP+cUjxSyZDitFpy04AQnOK0anLwEJy04wQlOqzY5fU0nN5Eawr5tewjpqHA6NQ9mHMn16VdYX65NTjUGrVjDqXJLc6/1s+s8x6s5ST/9KhlOcLqKU5bedm99eD6GiHTIp/jmU2XWSv9j3NX5mZWjaJzKmHP/J6dWxvIjnF7s21Fr2zAQAGA13UMZ28toX4Qajai0Jwqnvt3bniYGJnH+/7+ZpVNUaxjGYNSSo4PWik2CHPTlzrLcOa3GSeqLDJpU4RxaOhGyrCXBIRDpNaX3Aaoc+K6Jwtj+0GLPhn51Tp3TipyOQ2IRNjFgamip6D176cyJ8xQJBK73GFaZnfKHCPTuwzlJ3TnxWDzxzxv/qDmPNXNa6G6znIZhXt5pC1MrnwWrsYOLnGIDSI/BCXreucDJGuIU1TmtxUlBLIBb4ZS6uwFOUgcUKPXs5LCYokicBhv+tEQavUp5C7wrrq04nMeIClbgxJnR+SvnZGz8ElrhlLq7LU6kcrCWeMRYZxInlNqas1eUZiGc947FsbmCk5arcEJFU0NdOSdO0c1w4u5ugtNJHovslHwA8Eyfd0EScyKKmxwwmll2qoNT6I/Hay/2eHxCW5ygeU7jKXDyapwpocspWXM2o6I4T8GFXmzThY8+H02RnbSMWS0Xe31Feed0TZwmTJydrCw5RUJIoaAzGGcW0Fih5TAQH08XVIvZyRri/53TypxSiYCqEU6X7jbK6QyYOA2u4MSRbjYZm2/dgrElp6VrJy3TRHnntDYnQQqnRiucUnfb5BSKM6kxcNISSepFTphuQjGR0bu/Zqf4FmuoPz64PicBShlspdhL3W2z2AsFHIX8FFYZUVYEBSdUkPfSRIbkOfFZzk55+RKJzqmiVREVxUZXlFuDl3towo0jCZ4rN3bG6Shh2vi4F/lIkZ3IqxxQ1wManVOlsVFOQH8sIv3ncMbV8YAGR+fURGyUU13ROV1LdE5L0Tl1Tp1TrfHl5vluJyqJ3d3z/mu5q3PaIqf7/X09o+5/jt+fNy9PB1FJHJ5eHn6JMjqnDXL69PDt+xY5fX7d3749Hqo4td3h8e329Ue5s3P6zY7drTQMg2Ecz4y2RTNdDf0irDipDTQOSm3HnGNFHPu4/xuSndkT6cEKafL8biAn+b/kjYk57RSttRni1/Na7ZfCLTOPaMDLSlfImnQgJxNzeuKCN9VHaJTvspGCMUFl/qyBXFJBty35CzmNKqcbz0/7nBKuipTOnMgoU5+mxfpRqiCdaGCZFO72hXQgp3HllM2CW9JDeKKKJYFRElZ8ncK23h2nDxqIFue6JV3IaUQ5XZZfrlakj7Zq9Lh117y/h7IlFkFOg/I273nMDz2fhW/zO8PMPRN////LKXatFU8Cd1iSFzE9WzWgrbYOJjCcy/Lb3BOwxOfRsZDPqdozxpR0hhUtmp8NAQAAAAAAAAAAAAAAAAAAAPhl545ZHIQBMAxHCWLQSGkNbRCLHmRrQXTp4qA39f//obOed7vKQcq9z6K4v0M+MAD2c32W9U4A2M01Mk1lQ0/AXmGspC0KK9X/+jsGEH9Q0xgZczoZE430BOwSD7k1iVKJsfngxQ1SwLtyN22tbpxrXs8b5ydgR03SGt2WQpStNlbSE7BnhTB5U4pJ2eSGPQLYKPwYtbkcOydmrjtejB79uNEaeDPxkFiT9y5c6nJ9bmzCHgGs59R5XiFCsQjnPeKsOD8BW1eIX+wRwEadtNc0a5VSlZvzqqbXNkuvVnYCwBq1DRaPQUyGR7CwtQCwRpYGC63EROlgkWYCwBpj+/nyPNyj75yi++E5f2pHAWCDqi5+cirqSgAgJ8AD5ASQE+AfcgLICfAPOQHkBPiHnAByAvxDTgA5Af4hJ4CcAP+QE0BOgH/ICSAnwD/kBHyxbzetDYNwAMaVIqj4UualvecD7L4R2Pf/UtPpknSZWcsuQp/foSGkPT6ofxpyAsZDTgA5AeMhJzy1EIVKRixiqFd7Vss1ei22jLPkBBzmFHI12ptuTtaZ7+RYnYB+TtpLGZQWRhZml1N54OyUk5KrpMgJaEpE2ZxqQdrHUtdmdap1pTl/eJ3vkmqVta+QE7AV4rLBU8mUQvabPdPOTtFrcgIOcxJGVkHEN5evr15WXn81o9u9s+W23QVyAvY53VBnu1udVjWn8pNITsBPQboPL6v4W05OBrOMHsgJOBpFrGenEEVsm7rNKCItZyd7Jifgr1FEd3Vq13V14uwE3DfZC52c9qsTkz3g3pzeVTcnBuXAI5s9k2Jvs0dOwOFcz96uTtYl1Vppcz2xX53qExn4zx7QV9Np7fCCBvA43ncCBkROADkB4yEngJyA8ZATQE7AeMgJICdgPOQEkBMwHnICyAkYDzkB5ASMJ+d0Pb1kpys5Af8zzRfZXOZJAPhk725TEwaCAAxvVm1Du65Q/EiQLEWMQtZAa1RMqjFRkXr/C/VPe4GStJC8zw0WdoZhBmZ+L1hNht8mq0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCtoHy7bHf7bqPtd4d0VbLWD/XqlYPu8DHyjdNoxo8W7/tB2RNATaRbpF1rPF/ZTsPZq+8Z200LVwqgDu5YK8f4z3pTBrLRwnP6+eAbR+mxK4AayGSojJqsn7Je03O2dHvF63qijBomDX8q/slZj5xlngQt+V8ySPKlM9JjAVQuy6O4c2vVTZj57SOOtoUAqiXdwdLYwUm0ymljzeOl6aUt/tysXMQ2b0uh90OGdxu/nGcCqFKgldVZy6JJCJlpqzTzXFTKTTpe/yha6Nj3OgndclRpfp9eD6FoofBwnd5b1YBB3eRXe/e60zYMhgHYDvVqZ45dllJaTUQb2kBqqTQGQw3l0AKCod3//SyuP6V0mlQFuRA17/MjpHWwhZQXx87pupOdKtZI6jTrXDfuKBc2aPZrzJv6L/rbMx9jshwCut4fT08aOr91eDId7zdy2Agbkrf7T19YQ3156rdzBhDK42jvvrE3K9ye7z1cMYBAot+fda+hx3qMyTs9vsBcBIRyOel3RGN3qEh86rcaOg8DG3D9UZtGnnTyvn/VXcxFQCj50c79IQsm1paFs/m25f3OEeYiIJTHaXsePk60smS5Y0NUbXUcLk6H8/b0kQGE8Tw86kWbjhNlQHFbtzhFvaPhMwMI4+Lh05+3ihMzqahbnP58erhgAGE8DTqzCnGiSFiu3O67WHDuPjDF85SrWFtXmsjFiklVUWzLDNhUFN/l3FVhOC82Y2yxpnO3ORXFmkos5+7XRMq5WY3T4ktf87Kmsu0qcZp1Bk8MIIxWf7fajYPK7c2G22ItFUxxRQdxiuvY79Kq3PkNT6SPHvVOifTfMZkkslikwi9Eyv3mPhW+2LrSvCgriubxMk7UjluYFzWVbVcRHez2WwwgjNPxroyqHnOJtOOCYYoVQz2Wy5QvXezkFCffuRjKgOXKf+c/U/iob/ObUzxcaP2KK1LUMPd0TBu5Wl7URG1XEsnd8SkDCKPDu6wSmRgWd/JUyMRnwfdYtBrrmzSRZZxS4X+BWcpB+V0iqS73ebm5X3NL5btAt5qKf8ZOtO62elETtV1Rl3cYwLv0Tn4AZI1IVTyNXY6oAynj5EOzEqdElvMHLyPmi8xq+spOyBalnBtXuw/iapwUNfKiJt82eicILvzYqVTEyChmrErk/3qnq0THa+K0pndSrGQ4hY2r9b0TtY2xE4QXfmaPiDTvxMwmE8PKsZNPlo+FSFOxLk7liEfRmuXLzc1qV+jbtCtxcnVSaVnTsm3M7EEomz/vZKYTyeLpVDGaXVC0KKcEErkuTiJNpC8RqZ8bp81pViKeSHklF0FVqkzLyhlhimxZU9k2zjtBGJu/KoL2dz81XVA0xbCMk1voeE2cFgMjbhidQUrmtDlVSTPm/qfxZ7ZW4kTnu1ZqKtvGVRFQRX2v2Xsd3/0EgGv24BVqe0X5q9AoKABcUQ6vsEX3O4lEVL84Fvc7QS29/924NAqqAnfjQj3hWRF4VgQwPMkITzKC+sFz9hgAngKLp8BC7eAZ5QwAb9DAGzSgfvB+JwAHbx/E2wehZvBuXACGN7fjze1QO5G0x9nI3rJGuT0fZe172bB/IvAGLm+G453HRg3Kvz1Ox0NMksMm3Jk9fnxz1pQDvujg7OaY75keAwgvOuvqTO//jC/Fth/+RFLMvvzc15nunm35nwrvRfaM5tngozmfH0Rb7ftd/vvDIOPa9DBHDpsRyVneGmX9gR7tbLnRw6CfjVr5bNv7YXhPYm5b3fZwkPGtlg2GR6cTO2/sTSnwRg7mP+5/XUxaW21ycZWfzHH2FgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIq/TizzRcc/rckAAAAASUVORK5CYII=" alt="An image"></p> <p>再然后我们继续往下走，因为 <code>workInProgressHook.next</code>的值为 null, 所以我们走 else 逻辑, 在else 逻辑中, 我们将 <code>currentHook</code> 赋值给 <code>workInProgressHook.next</code>, 意味着我们将第一次初始化节点通过 <code>next</code> 和当前的节点连接在了一起。然后将<code>currentHook</code>的值赋值给 <code>workInProgressHook</code>, 意思就是将<code>workInProgressHook</code>指针指向了当前节点，如下图</p> <p><img src="/assets/img/liucheng3.2ad17d13.png" alt="An image"></p> <p>同理当我们第二次调用<code>useState('cy')</code>的时候, 还是走相同的逻辑，然后得到的结构是这样的</p> <p><img src="/assets/img/liucheng4.f73ac4ba.png" alt="An image"></p> <p>到现在我们已经完成了第一次渲染，也就是根据<code>useState</code>初始化我们的数据链表, 现在我们完善一下我们的代码，增加两行关键性代码</p> <p><img src="/assets/img/hooks3.390443a4.png" alt="An image"></p> <p>当我们点击按钮<code>add number</code>的时候, 我们不难发现实际上就是给第二个节点赋值, 我们把思路集中在链表回退这个逻辑。</p> <p>在<code>setState</code>函数中，我们手动调用了 <code>render()</code> 方法，在 <code>render()</code> 方法里面我们将<code>workInProgressHook</code> 指向了第一个初始化节点<code>firstWorkInProgressHook</code>, 如下图，在我们每一次调用<code>setState</code>的时候, 也就是重新渲染页面的时候会出现这种效果</p> <p><img src="/assets/img/hook.68f534d6.gif" alt="An image"></p> <p>因为页面重新渲染了, 我们就会再一次走<code>useState</code>的逻辑，不同的是，这个时候 <code>workInProgressHook.next</code>已经有值了，走的是 if 逻辑, <code>workInProgressHook = workInProgressHook.next</code> , 保证不管页面重新渲染多少次，我们通过[state, setState]中state(currentHook.memoizedState)获取到的都是同一个值。</p> <p><img src="/assets/img/hook2.8c595645.gif" alt="An image"></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>现在我们知道为什么只能在函数最外层调用 Hook。不要在循环、条件判断或者子函数中调用了，因为 useState的存储数据结构和存储的顺序是密切相关的，如果我们在条件判断等里面调用 useState 会导致数据对不上，导致出错</p></div> <h2 id="usereducer-的基本实现"><a href="#usereducer-的基本实现" class="header-anchor">#</a> useReducer 的基本实现</h2> <h3 id="基本用法-2"><a href="#基本用法-2" class="header-anchor">#</a> 基本用法</h3> <p>我们先来看下 <code>useReducer</code>的基本用法</p> <p><img src="/assets/img/hooks4.1bbd2050.png" alt="An image"></p> <p><code>useReducer</code>接收3个参数，第一个是<code>reducer</code>, 第二个参数是state的初始值，第三个参数是一个函数，如果这个函数存在，则将<code>useReducer</code>的第二个参数作为这个函数的参数，执行后的结果作为初始值。</p> <p>知道思路之后其实就不难了，我们来实现它</p> <p><img src="/assets/img/hooks5.75dff39d.png" alt="An image"></p> <h2 id="useeffect-的基本实现"><a href="#useeffect-的基本实现" class="header-anchor">#</a> useEffect 的基本实现</h2> <h3 id="基本用法-3"><a href="#基本用法-3" class="header-anchor">#</a> 基本用法</h3> <p>我们知道 <code>useEffect</code> 给函数组件添加了操作副作用的能力，例如修改DOM、定时器这些.</p> <p>还有最重要一点是 <code>useEffect</code> 可以替代类组件中的<code>didmount</code> 、 <code>didupdate</code> 、 <code>willunmount</code></p> <p>我们来实现一个具有打印功能的计时器例子，来了解 <code>useEffect</code> 的基本用法吧</p> <p><img src="/assets/img/hooks6.8ef59bd5.png" alt="An image"></p> <p>我们可以发现，只有当每次name发生改变之后，才会执行回调函数(其他基础用法这里就不赘述了), 这也是我们实现的时候最需要注意的一点,
当我们传入的依赖项和上一次保存的依赖项相同的话，回调函数不执行.</p> <p><img src="/assets/img/hooks7.214f3869.png" alt="An image"></p> <p>其实我们只需要理解这行代码就足够了, 他是<code>useEffect</code>的核心</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br></div><pre class="language-js"><code><span class="token keyword">let</span> changed <span class="token operator">=</span> lastDependencies <span class="token operator">?</span>  <span class="token operator">!</span>dependencies<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> lastDependencies<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre></div><p>当我们第一次执行<code>useEffect</code>的时候, <code>lastDependencies</code>为undefined, 所以第一次的时候<code>changed</code>为真，所以执行回调。第二次执行<code>useEffect</code>的时候，遍历依赖项和保存的最后一次修改的依赖项，如果两者相等，则返回false，不执行回调函数。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>还有其他的一些hooks这里就不赘述了，因为你会发现，除了<code>useState</code>使用的链表存储的数据结构难理解一点，剩余的hooks大多数都是依靠一个全局的变量来存储值，而且需要注意的是，<code>useState</code>内部其实是用<code>useReducer</code>来实现的，有时间的话一定要试一下自己用<code>useReducer</code>来实现一款链表的<code>useState</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/react/react-hooks-base/" class="prev">
        react-hooks 的新特性
      </a></span> <span class="next"><a href="/vue/observer/">
        深入了解Vue响应式特点
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4bc2ad38.js" defer></script><script src="/assets/js/2.8001882b.js" defer></script><script src="/assets/js/4.a0c1a2ff.js" defer></script>
  </body>
</html>
